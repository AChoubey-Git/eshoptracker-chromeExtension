(()=>{"use strict";({136:function(){var n=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,s){function c(n){try{r(o.next(n))}catch(n){s(n)}}function a(n){try{r(o.throw(n))}catch(n){s(n)}}function r(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}r((o=o.apply(n,e||[])).next())}))};chrome.runtime.onMessage.addListener(((e,t,o)=>n(void 0,void 0,void 0,(function*(){const t=e.message;if("login"===t){const t=yield function(e){return n(this,void 0,void 0,(function*(){return fetch("https://amitav.ngrok.io/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>new Promise((t=>n(this,void 0,void 0,(function*(){yield e.json().then((n=>{n.status&&(chrome.storage.sync.set({name:n.username}),chrome.storage.sync.set({token:n.token})),t(n)}))})))))).catch((n=>{console.log(n)}))}))}(e.payload);t&&chrome.runtime.sendMessage({message:"login",data:t}),o("success")}else if("logout"===t);else if("signup"===t){const t=yield function(e){return n(this,void 0,void 0,(function*(){return fetch("https://amitav.ngrok.io/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>new Promise((t=>n(this,void 0,void 0,(function*(){yield e.json().then((n=>t(n)))})))))).catch((n=>{console.log(n)}))}))}(e.payload);t&&chrome.runtime.sendMessage({message:"signup",data:t}),o("success")}}))))}})[136]()})();